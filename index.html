<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta property="og:title" content=""/>
    <meta property="og:image" content="" />
    <meta property="og:description" content=""/>
    <meta name="viewport" content="width=device-width,  user-scalable=0" />
    <meta name="format-detection" content="telephone=no">
    <meta name="HandheldFriendly" content="true">
    <meta name="google" value="notranslate">
    <title>Demo</title>
    <link href="include/css/reset.css" rel="stylesheet" type="text/css" media="all" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        let isClickedAccept = false;
        // function clickCounter() {
        //     if (typeof (Storage) !== "undefined") {
        //         if (sessionStorage.clickcount) {
        //             sessionStorage.clickcount = Number(sessionStorage.clickcount) + 1;
        //         } else {
        //             sessionStorage.clickcount = 1;
        //         }
        //         document.getElementById("result").innerHTML = "You have clicked the button " + sessionStorage.clickcount +
        //             " time(s).";
        //     } else {
        //         document.getElementById("result").innerHTML = "Sorry, your browser does not support web storage...";
        //     }
        // }

        function checkFirstTimeVisit () {
            var txt = 'first time';
            if (! sessionStorage.noFirstVisit) {
                // when visitor is first time visit
                console.log(txt, isClickedAccept);
                sessionStorage.noFirstVisit = "1";
            } else if (sessionStorage.noFirstVisit) {
                // when visitor is not first time visit
                var txt = "Your theme is ready!";
                console.log(txt, isClickedAccept);
            }
        }

        function initialCheckIn (boolean) {
            console.log(boolean);
            if (typeof (Storage) !== "undefined") {
                if (sessionStorage.clickcount && boolean === 'Yes') {
                    sessionStorage.clickcount = Number(sessionStorage.clickcount) + 1;
                    const isClickedAccept = true;
                    console.log(boolean, sessionStorage, isClickedAccept);
                } else if (sessionStorage.clickcount && boolean === 'No') {
                    sessionStorage.clickcount = 1;
                    const isClickedAccept = false;
                    console.log(boolean, sessionStorage, isClickedAccept);
                }
            }
        }

        window.onload = function () {
            checkFirstTimeVisit();
        }
    </script>
    <style>
        #step2 {
            display: none;
        }
    </style>
</head>

<body>
    <div id="step1">
        <button onclick="initialCheckIn('Yes')" type="button">Yes</button>
        <!-- <button onclick="initialCheckIn(false)" type="button">No</button> -->
    </div>
    <div id="step2">
        <button type="button">step 2</button>
    </div>
    <div id="result"></div>
    <p>Click the button to see the counter increase.</p>
    <p>Close the browser tab (or window), and try again, and the counter will continue to count (is not reset).</p>
</body>

</html>